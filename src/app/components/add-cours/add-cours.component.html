<app-cup [cup]="title"></app-cup>
<div class="untree_co-section">
    <div class="container">
      <div class="row mb-5 justify-content-center">
        <div class="col-lg-5 mx-auto order-1" data-aos="fade-up" data-aos-delay="200">
          <form [formGroup]="coursForm" enctype="multipart/form-data">
            <div class="row">
              <div class="col-12 mb-3">
                <input type="text" class="form-control" placeholder="Name" formControlName="name" >
              </div>
              <div style="color: red ;margin-left:4%;" *ngIf="
                 coursForm.controls['name'].invalid &&
                 (coursForm.controls['name'].dirty ||
                 coursForm.controls['name'].touched)
                ">
                <div *ngIf="coursForm.controls['name'].errors.required">
                  Name of Course is required
                </div>
              </div>
              <div class="col-12 mb-3">
                <textarea class="form-control" name="des" formControlName="description" id="" cols="30" rows="3" placeholder="description"></textarea>
              </div>
              <div style="color: red ;margin-left:4%;" *ngIf="
                 coursForm.controls['description'].invalid &&
                 (coursForm.controls['description'].dirty ||
                 coursForm.controls['description'].touched)
                ">
                <div *ngIf="coursForm.controls['description'].errors.required">
                  date is required
                </div>
                
              </div>
              <div class="col-12 mb-3">
                <input type="text" class="form-control"  formControlName="nbLess" placeholder="Number of lessons">
              </div>
              <div style="color: red ;margin-left:4%;" *ngIf="
                 coursForm.controls['nbLess'].invalid &&
                 (coursForm.controls['nbLess'].dirty ||
                 coursForm.controls['nbLess'].touched)
                ">
                <div *ngIf="coursForm.controls['nbLess'].errors.required">
                 Number of lessons is required
                </div>
                <div *ngIf="coursForm.controls['nbLess'].errors.min">
                  the number of lessons at least 4
                </div>
              </div>
              <div class="col-12 mb-3">
                <input type="date" class="form-control" placeholder="Duration" formControlName="duree">
              </div>
              <div style="color: red ;margin-left:4%;" *ngIf="
                 coursForm.controls['duree'].invalid &&
                 (coursForm.controls['duree'].dirty ||
                 coursForm.controls['duree'].touched)
                ">
                <div *ngIf="coursForm.controls['duree'].errors.required">
                  Course start date is required
                </div>
              </div>
              <div class="col-12 mb-3">
                <input type="date" placeholder="SÃ©lectionnez une date" class="form-control"  formControlName="date">
              </div>
              <div style="color: red ;margin-left:4%;" *ngIf="
                 coursForm.controls['date'].invalid &&
                 (coursForm.controls['date'].dirty ||
                 coursForm.controls['date'].touched)
                ">
                <div *ngIf="coursForm.controls['date'].errors.required">
                  Course end date is required
                </div>
                <div *ngIf="coursForm.controls['date'].errors.compareDates">
                  Course end date should be after the date of starting
                </div>
              </div>
              <div class="col-12 mb-3">
                <input type="text" class="form-control"  formControlName="price" placeholder="Price">
              </div>
              <div style="color: red ;margin-left:4%;" *ngIf="
              coursForm.controls['price'].invalid &&
              (coursForm.controls['price'].dirty ||
              coursForm.controls['price'].touched)
             ">
             <div *ngIf="coursForm.controls['price'].errors.required">
               Price is required
             </div>
             <div *ngIf="coursForm.controls['price'].errors.min">
            Price should be > 0
             </div>
           </div>
              <div class="form-group" style="display: none;">
                <input type="file" class="form-control" name="img" #filePicker (change)="onImageSelected($event,'img')">
            </div>
            <div class="text-center" style=" margin-left: 27%;">
                <button class="btn btn-outline-success" style="border-radius: 0%;" (click)="filePicker.click()">Chose photo to your course
                </button>
                <div class="mt-4 mb-4">
                    <img [src]="imagePreview" alt="" width="200PX">
                </div>
  
            </div>
              <div class="col-12">
                <input style="margin-left: 35%;" type="submit" [value]="btnTitle" [disabled]="coursForm.invalid" class="btn btn-success"
                 
                 (click)="addCours()">
              </div>
            </div>
          </form>
        </div>
      </div>
    </div>
</div>
